{
  "name": "emma-lite-hml-extension",
  "version": "2.0.0",
  "description": "HML-compliant memory orchestration for AI conversations - First HML Application",
  "main": "js/background.js",
  "scripts": {
    "test": "jest",
    "test:hml": "jest test/hml-compliance.test.js",
    "test:watch": "jest --watch",
    "build": "webpack --mode production",
    "dev": "webpack --mode development --watch",
    "lint": "eslint . --ext .js,.jsx",
    "hml:validate": "node scripts/validate-hml-compliance.js",
    "hml:test-vectors": "node scripts/run-hml-test-vectors.js",
    "desktop:start": "cross-env NODE_ENV=development DATABASE_URL=postgres://emma:emma@localhost:55432/emma electron ./desktop/main.js",
    "desktop:prod": "cross-env NODE_ENV=production electron ./desktop/main.js",
    "mcp:server": "node server/emma-mcp-server.cjs",
    "mcp:dev": "nodemon server/emma-mcp-server.cjs",
    "start:all": "concurrently \"npm run mcp:server\" \"npm run desktop:start\"",
    "install:mcp": "npm install express cors ws",
    "prepack:renderer": "npm ci --prefix desktop/renderer && npm run --prefix desktop/renderer build",
    "dist": "npm run build:prepare && electron-builder -w",
    "dist:all": "npm run build:prepare && electron-builder -mwl",
    "dist:win": "npm run build:prepare && electron-builder -w",
    "dist:mac": "npm run build:prepare && electron-builder -m",
    "dist:linux": "npm run build:prepare && electron-builder -l",
    "build:prepare": "node scripts/prepare-build.js",
    "pack": "npm run build:prepare && electron-builder --dir",
    "release": "npm run build:prepare && electron-builder -p always"
  },
  "dependencies": {
    "@stablelib/base64": "^1.0.1",
    "@stablelib/random": "^1.0.2",
    "@stablelib/utf8": "^1.0.2",
    "@stablelib/xchacha20poly1305": "^1.0.1",
    "@xenova/transformers": "^2.17.2",
    "cors": "^2.8.5",
    "express": "^4.18.2",
    "jose": "^5.10.0",
    "node-fetch": "^3.3.2",
    "onnxruntime-node": "^1.22.0",
    "pg": "^8.16.3",
    "qrcode": "^1.5.3",
    "secrets.js-grempe": "^1.1.0",
    "sharp": "^0.33.4",
    "uuid": "^9.0.1",
    "ws": "^8.14.2"
  },
  "devDependencies": {
    "@babel/core": "^7.23.7",
    "@babel/preset-env": "^7.23.7",
    "@modelcontextprotocol/sdk": "^1.17.3",
    "@testing-library/jest-dom": "^6.2.0",
    "babel-loader": "^9.1.3",
    "concurrently": "^8.2.2",
    "cross-env": "^7.0.3",
    "electron": "^31.3.0",
    "electron-builder": "^24.13.3",
    "electron-updater": "^6.6.2",
    "eslint": "^8.56.0",
    "fake-indexeddb": "^6.1.0",
    "jest": "^29.7.0",
    "jest-environment-jsdom": "^29.7.0",
    "nodemon": "^3.0.2",
    "performance-now": "^2.1.0",
    "webpack": "^5.89.0",
    "webpack-cli": "^5.1.4"
  },
  "babel": {
    "presets": [
      "@babel/preset-env"
    ]
  },
  "keywords": [
    "hml",
    "human-memory-layer",
    "mtap",
    "memory-protocol",
    "ai-memory",
    "chrome-extension",
    "emma"
  ],
  "author": "Emma HML Team",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/emma-hml/emma-lite-extension"
  },
  "hml": {
    "version": "1.0.0",
    "compliance": "in-development",
    "features": [
      "capsule-schema",
      "canonicalization",
      "event-log",
      "hash-chain",
      "encryption"
    ]
  },
  "build": {
    "appId": "ai.emma.desktop",
    "productName": "Emma Desktop",
    "copyright": "Copyright Â© 2025 Emma AI",
    "extraMetadata": {
      "main": "desktop/main.js"
    },
    "directories": {
      "output": "dist",
      "buildResources": "build-resources"
    },
    "files": [
      "desktop/**",
      "app/**",
      "lib/**",
      "models/**",
      "!**/test/**",
      "!**/*.md",
      "!server/**",
      "!legacy/**",
      "!scripts/**",
      "!web-app/**",
      "!web-demo/**",
      "!*.bat",
      "!*.ps1",
      "!docker-compose.yml",
      "!Dockerfile"
    ],
    "asar": true,
    "asarUnpack": [
      "node_modules/argon2/**",
      "node_modules/sharp/**",
      "node_modules/onnxruntime-node/**",
      "node_modules/pg/**",
      "models/**"
    ],
    "npmRebuild": true,
    "extraResources": [
      {
        "from": "models",
        "to": "models"
      }
    ],
    "win": {
      "target": [
        {
          "target": "nsis",
          "arch": [
            "x64"
          ]
        }
      ],
      "icon": "build-resources/icon.ico",
      "publisherName": "Emma AI",
      "verifyUpdateCodeSignature": false
    },
          "nsis": {
        "oneClick": false,
        "perMachine": false,
        "allowElevation": true,
        "allowToChangeInstallationDirectory": true,
        "createDesktopShortcut": true,
        "createStartMenuShortcut": true,
        "shortcutName": "Emma Desktop",
        "displayLanguageSelector": false,
        "installerLanguages": ["en"],
        "language": "en",
        "multiLanguageInstaller": false,
        "packElevateHelper": true,
        "removeDefaultUninstallWelcomePage": false,
        "include": "build-resources/installer-ui.nsh"
      },
    "linux": {
      "target": [
        "AppImage",
        "deb"
      ],
      "category": "Utility",
      "icon": "build-resources/icon.png"
    },
    "mac": {
      "target": [
        "dmg",
        "zip"
      ],
      "icon": "build-resources/icon.icns",
      "category": "public.app-category.productivity"
    },
    "publish": {
      "provider": "github",
      "owner": "emma-ai",
      "repo": "emma-desktop"
    }
  }
}
